<h1>Crustacés</h1>

<table>
  <tr>
    <th>Nom</th>
    <th>Prix</th>
    <th>Prix en promotion</th>
    <th>Pourcentage de promotion</th>
    <th>Quantité en stock</th>
    <th>Nombres d'articles vendus</th>
    <th>Commentaires</th>
    <th>Type de l'opération</th>
    <th>Changer le stock</th>
    <th>Changer la promotion</th>
  </tr>
  <tr *ngFor="let c of crustaces">
    <td>{{ c.name }}</td>
    <td>{{ c.price }}</td>
    <td>{{ c.price_on_sale }}</td>
    <td>{{ c.discount }}</td>
    <td>{{ c.quantityInStock }}</td>
    <td>{{ c.quantity_sold }}</td>
    <td>{{ c.comments }}</td>
    <td>
      <select name="operation{{ c.tigID }}" id="operation{{ c.tigID }}"
      (change)="nouvelleTransaction(c.id, c.tigID, c.price)">
        <option value="ajout">Ajout</option>
        <option value="vente">Retrait par vente</option>
        <option value="invendu">Invendu(s)</option>
      </select>
    </td>
    <td>
      <input type="number" name="stockCrustace{{ c.id }}" id="stock{{ c.id }}"
        (focusout)="stockModif(c.id, c.quantityInStock); nouvelleTransaction(c.id, c.tigID, c.price)">
    </td>
    <td>
      <input type="number" name="pourcentPromo{{ c.id }}" id="promo{{ c.id }}"
        (focusout)="promoModif(c.id)" min="0" max="100" step="0.01">
    </td>
  </tr>
</table>

<h1>Fruits de mer</h1>

<table>
  <tr>
    <th>Nom</th>
    <th>Prix</th>
    <th>Prix en promotion</th>
    <th>Pourcentage de promotion</th>
    <th>Quantité en stock</th>
    <th>Nombres d'articles vendus</th>
    <th>Commentaires</th>
    <th>Type de l'opération</th>
    <th>Changer le stock</th>
    <th>Changer la promotion</th>
  </tr>
  <tr *ngFor="let fdm of fruitsDeMer">
    <td>{{ fdm.name }}</td>
    <td>{{ fdm.price }}</td>
    <td>{{ fdm.price_on_sale }}</td>
    <td>{{ fdm.discount }}</td>
    <td>{{ fdm.quantityInStock }}</td>
    <td>{{ fdm.quantity_sold }}</td>
    <td>{{ fdm.comments }}</td>
    <td>
      <select name="operation{{ fdm.tigID }}" id="operation{{ fdm.tigID }}"
      (change)="nouvelleTransaction(fdm.id, fdm.tigID, fdm.price)">
        <option value="ajout">Ajout</option>
        <option value="vente">Retrait par vente</option>
        <option value="invendu">Invendu(s)</option>
      </select>
    </td>
    <td>
      <input type="number" name="stockFdm{{ fdm.id }}" id="stock{{ fdm.id }}"
        (focusout)="stockModif(fdm.id, fdm.quantityInStock); nouvelleTransaction(fdm.id, fdm.tigID, fdm.price)">
    </td>
    <td>
      <input type="number" name="pourcentPromo{{ fdm.id }}" id="promo{{ fdm.id }}"
        (focusout)="promoModif(fdm.id)" min="0" max="100" step="0.01">
    </td>
  </tr>
</table>

<h1>Poissons</h1>

<table>
  <tr>
    <th>Nom</th>
    <th>Prix</th>
    <th>Prix en promotion</th>
    <th>Pourcentage de promotion</th>
    <th>Quantité en stock</th>
    <th>Nombres d'articles vendus</th>
    <th>Commentaires</th>
    <th>Type de l'opération</th>
    <th>Changer le stock</th>
    <th>Changer la promotion</th>
  </tr>
  <tr *ngFor="let p of poissons">
    <td>{{ p.name }}</td>
    <td>{{ p.price }}</td>
    <td>{{ p.price_on_sale }}</td>
    <td>{{ p.discount }}</td>
    <td>{{ p.quantityInStock }}</td>
    <td>{{ p.quantity_sold }}</td>
    <td>{{ p.comments }}</td>
    <td>
      <select name="operation{{ p.tigID }}" id="operation{{ p.tigID }}"
      (change)="nouvelleTransaction(p.id, p.tigID, p.price)">
        <option value="ajout">Ajout</option>
        <option value="vente">Retrait par vente</option>
        <option value="invendu">Invendu(s)</option>
      </select>
    </td>
    <td>
      <input type="number" name="stockPoisson{{ p.id }}" id="stock{{ p.id }}"
        (focusout)="stockModif(p.id, p.quantityInStock); nouvelleTransaction(p.id, p.tigID, p.price)">
    </td>
    <td>
      <input type="number" name="pourcentPromo{{ p.id }}" id="promo{{ p.id }}"
        (focusout)="promoModif(p.id)" min="0" max="100" step="0.01">
    </td>
  </tr>
</table>

<button type="button" name="button" (click)="envoyerDonnees()">Envoyer données</button>
<button type="button" name="button2" (click)="testTransac()">testTransac</button>
